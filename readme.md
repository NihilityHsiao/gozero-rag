# Go-Zero RAG çŸ¥è¯†åº“ç³»ç»Ÿ

åŸºäº Go-Zero å’Œ React æ„å»ºçš„ä¼ä¸šçº§é«˜æ€§èƒ½ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰çŸ¥è¯†åº“ç³»ç»Ÿã€‚

## ğŸ“– é¡¹ç›®ä»‹ç»

æœ¬é¡¹ç›®æ—¨åœ¨å¸®åŠ©ä¼ä¸šä¸ä¸ªäººå¿«é€Ÿæ­å»ºç§æœ‰åŒ–çŸ¥è¯†åº“ï¼Œé€šè¿‡å‘é‡æ£€ç´¢ä¸ LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰çš„æ·±åº¦ç»“åˆ (RAG)ï¼Œæœ‰æ•ˆè§£å†³å¤§æ¨¡å‹åœ¨å‚ç›´é¢†åŸŸçŸ¥è¯†ç¼ºå¤±ã€å³æ—¶æ€§ä¸è¶³ä¸å¹»è§‰é—®é¢˜ã€‚

æ ¸å¿ƒå®šä½ä¸ºï¼š**é«˜æ€§èƒ½ã€æ˜“æ‰©å±•ã€å¼€ç®±å³ç”¨çš„ RAG è§£å†³æ–¹æ¡ˆ**ã€‚

### æ ¸å¿ƒç‰¹æ€§
- **å¤šæ ¼å¼è§£æ**: æ”¯æŒ PDF, TXT, Word, Markdown ç­‰ä¸»æµæ–‡æ¡£æ ¼å¼çš„ä¸Šä¼ ä¸è§£æã€åˆ‡ç‰‡ã€‚
- **çµæ´»ç¼–æ’**: åŸºäºå­—èŠ‚è·³åŠ¨ Eino æ¡†æ¶ï¼Œæ”¯æŒå¤æ‚çš„ RAG æ£€ç´¢æµç¨‹ç¼–æ’ä¸ä¼˜åŒ–ã€‚
- **é«˜æ€§èƒ½æ£€ç´¢**: é›†æˆ Milvus å‘é‡æ•°æ®åº“ï¼Œæ”¯æŒæµ·é‡æ•°æ®æ¯«ç§’çº§æ£€ç´¢ã€‚
- **æ··åˆæ£€ç´¢**: æ”¯æŒå…³é”®è¯æ£€ç´¢ä¸å‘é‡æ£€ç´¢çš„æ··åˆå¬å› (Hybrid Search) åŠé‡æ’åº (Rerank)ã€‚
- **ç°ä»£åŒ–äº¤äº’**: é‡‡ç”¨ React + Shadcn/ui æ‰“é€ æç®€ã€æµç•…çš„ç±» Dify ç”¨æˆ·ä½“éªŒã€‚

## ğŸ›  æŠ€æœ¯æ ˆ

### åç«¯ (Backend)
- **æ¡†æ¶**: [Go-Zero](https://go-zero.dev/) (Web/RPC, Middleware)
- **æ•°æ®åº“**: MySQL, Redis, [Milvus](https://milvus.io/) (å‘é‡æ•°æ®åº“)
- **å¯¹è±¡å­˜å‚¨**: MinIO
- **æ¶ˆæ¯é˜Ÿåˆ—**: Kafka
- **ç¼–æ’å¼•æ“**: ByteDance Eino

### å‰ç«¯ (Frontend)
- **æ¡†æ¶**: React 18 (Vite)
- **UI ç»„ä»¶åº“**: Shadcn/ui + Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: Zustand
- **è¯­è¨€**: TypeScript

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚
- **Go**: 1.21+
- **Node.js**: 18+
- **Docker & Docker Compose**
- **Goctl**: `go install github.com/zeromicro/go-zero/tools/goctl@latest`

### 2. åŸºç¡€è®¾æ–½æ­å»º
ä½¿ç”¨ Docker Compose å¯åŠ¨æ‰€æœ‰ä¾èµ–æœåŠ¡ï¼ˆMySQL, Redis, Milvus, MinIO, Kafkaï¼‰ï¼š

```bash
docker-compose up -d
```

è¯·ç¡®ä¿æ‰€æœ‰å®¹å™¨çŠ¶æ€å¥åº· (Healthy) åå†ç»§ç»­ã€‚

### 3. åç«¯å¯åŠ¨

1. **å®‰è£…ä¾èµ–**:
    ```bash
    go mod tidy
    ```

2. **è¿è¡ŒæœåŠ¡**:
    ```bash
    # è¿›å…¥ä¸»æœåŠ¡ç›®å½•
    cd restful/rag
    # å¯åŠ¨æœåŠ¡å™¨
    go run rag.go
    ```
    æœåŠ¡é»˜è®¤è¿è¡Œåœ¨ `8888` ç«¯å£ã€‚

### 4. å‰ç«¯å¯åŠ¨

1. **å®‰è£…ä¾èµ–**:
    ```bash
    cd fe
    npm install
    ```

2. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**:
    ```bash
    npm run dev
    ```
    å‰ç«¯é¡µé¢é€šå¸¸è®¿é—®åœ°å€ä¸º `http://localhost:5173`ã€‚

## ğŸ’» ä»£ç ç”ŸæˆæŒ‡å—

> [!IMPORTANT]
> **è¯·å‹¿ç›´æ¥ä½¿ç”¨ `goctl` ç”Ÿæˆ API/Model ä»£ç ã€‚** è¯·åŠ¡å¿…ä½¿ç”¨é¢„å®šä¹‰çš„ Make å‘½ä»¤ä»¥ç¡®ä¿ä¸€è‡´æ€§ã€‚

### ç”Ÿæˆ API ä»£ç 
å¦‚æœæ‚¨ä¿®æ”¹äº† `restful/rag/rag.api` æ–‡ä»¶ï¼Œè¯·è¿è¡Œï¼š

```bash
make gen-api
```

### ç”Ÿæˆæ•°æ®åº“ Model ä»£ç 
å¦‚æœæ‚¨ä¿®æ”¹äº† `script/mysql/*.sql` ä¸­çš„ SQL è„šæœ¬ï¼Œè¯·è¿è¡Œï¼š

```bash
make gen-model
```

### ç”Ÿæˆ API æ–‡æ¡£ (Swagger)

```bash
make gen-doc
```


# è¿è¡Œæˆªå›¾
![alt text](images/image.png)
![alt text](images/image-1.png)
![alt text](images/image-2.png)
![alt text](images/image-3.png)
![alt text](images/image-4.png)